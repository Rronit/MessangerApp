{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/react-learn/my-messenger-app/src/components/ChatWindow.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { Box, Typography, TextField, Button, Paper, IconButton, Avatar } from \"@mui/material\";\nimport { ChatContainer, ChatHeader } from \"./styles\";\nimport { getInitials } from \"./FriendsList\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatWindow(props) {\n  _s();\n  const {\n    selectedFriend,\n    messages,\n    setMessages,\n    setShowChat,\n    showChat\n  } = props;\n  const [input, setInput] = useState(\"\");\n  const currentMessages = selectedFriend ? messages[selectedFriend.id] || [] : [];\n  const handleSend = () => {\n    if (!input.trim() || !selectedFriend) return;\n    setMessages(prev => ({\n      ...prev,\n      [selectedFriend.id]: [...(prev[selectedFriend.id] || []), {\n        sender: \"me\",\n        text: input\n      }]\n    }));\n    setInput(\"\");\n  };\n  if (!selectedFriend || !showChat) {\n    return null;\n  }\n  return (\n    /*#__PURE__*/\n    // <Box flex={1} p={2} display=\"flex\" width={400} flexDirection=\"column\">\n    _jsxDEV(ChatContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          children: getInitials(selectedFriend.name)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: [\"Chat with \", selectedFriend === null || selectedFriend === void 0 ? void 0 : selectedFriend.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => setSelectedFriend(null),\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n            fontSize: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this), showChat && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(Paper, {\n          variant: \"outlined\",\n          sx: {\n            flex: 1,\n            p: 2,\n            overflowY: \"auto\",\n            mb: 2,\n            backgroundColor: \"#fafafa\"\n          },\n          children: currentMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(Box, {\n            textAlign: msg.sender === \"me\" ? \"right\" : \"left\",\n            mb: 1,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                display: \"inline-block\",\n                px: 1.5,\n                py: 1,\n                borderRadius: 2,\n                backgroundColor: msg.sender === \"me\" ? \"#1976d2\" : \"#e0e0e0\",\n                color: msg.sender === \"me\" ? \"#fff\" : \"#000\"\n              },\n              children: msg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          gap: 1,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            size: \"small\",\n            placeholder: \"Type a message\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => {\n              if (e.key === \"Enter\") handleSend();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleSend,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(ChatWindow, \"RL+Zbs2TIka0YpcBOJptmHqCgYA=\");\n_c = ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","CloseIcon","Box","Typography","TextField","Button","Paper","IconButton","Avatar","ChatContainer","ChatHeader","getInitials","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatWindow","props","_s","selectedFriend","messages","setMessages","setShowChat","showChat","input","setInput","currentMessages","id","handleSend","trim","prev","sender","text","children","name","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","size","onClick","setSelectedFriend","fontSize","sx","flex","p","overflowY","mb","backgroundColor","map","msg","index","textAlign","display","px","py","borderRadius","color","gap","fullWidth","placeholder","value","onChange","e","target","onKeyDown","key","_c","$RefreshReg$"],"sources":["/home/user/Desktop/react-learn/my-messenger-app/src/components/ChatWindow.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport {\n  Box,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  TextField,\n  Button,\n  Paper,\n  IconButton,\n  Avatar\n} from \"@mui/material\";\nimport { Friend, Message, MessageStore } from \"../types\";\nimport { ChatContainer, ChatHeader } from \"./styles\";\nimport { getInitials } from \"./FriendsList\";\n\nexport default function ChatWindow(props: {\n  selectedFriend: Friend | null;\n  messages: MessageStore;\n  setMessages: any;\n  showChat: boolean;\n  setShowChat: any;\n}) {\n  const { selectedFriend, messages, setMessages, setShowChat, showChat } =\n    props;\n  const [input, setInput] = useState(\"\");\n\n  const currentMessages = selectedFriend\n    ? messages[selectedFriend.id] || []\n    : [];\n\n  const handleSend = () => {\n    if (!input.trim() || !selectedFriend) return;\n\n    setMessages((prev: MessageStore) => ({\n      ...prev,\n      [selectedFriend.id]: [\n        ...(prev[selectedFriend.id] || []),\n        { sender: \"me\", text: input }\n      ]\n    }));\n    setInput(\"\");\n  };\n  if (!selectedFriend || !showChat) {\n    return null;\n  }\n  return (\n    // <Box flex={1} p={2} display=\"flex\" width={400} flexDirection=\"column\">\n    <ChatContainer>\n      {/* Header */}\n      <ChatHeader>\n        <Avatar>{getInitials(selectedFriend.name)}</Avatar>\n        <Typography variant=\"h6\" gutterBottom>\n          Chat with {selectedFriend?.name}\n        </Typography>\n        <IconButton size=\"small\" onClick={() => setSelectedFriend(null)}>\n          <CloseIcon fontSize=\"small\" />\n        </IconButton>\n      </ChatHeader>\n\n      {showChat && (\n        <>\n          {\" \"}\n          <Paper\n            variant=\"outlined\"\n            sx={{\n              flex: 1,\n              p: 2,\n              overflowY: \"auto\",\n              mb: 2,\n              backgroundColor: \"#fafafa\"\n            }}\n          >\n            {currentMessages.map((msg, index) => (\n              <Box\n                key={index}\n                textAlign={msg.sender === \"me\" ? \"right\" : \"left\"}\n                mb={1}\n              >\n                <Typography\n                  variant=\"body2\"\n                  sx={{\n                    display: \"inline-block\",\n                    px: 1.5,\n                    py: 1,\n                    borderRadius: 2,\n                    backgroundColor:\n                      msg.sender === \"me\" ? \"#1976d2\" : \"#e0e0e0\",\n                    color: msg.sender === \"me\" ? \"#fff\" : \"#000\"\n                  }}\n                >\n                  {msg.text}\n                </Typography>\n              </Box>\n            ))}\n          </Paper>\n          <Box display=\"flex\" gap={1}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              placeholder=\"Type a message\"\n              value={input}\n              onChange={e => setInput(e.target.value)}\n              onKeyDown={e => {\n                if (e.key === \"Enter\") handleSend();\n              }}\n            />\n            <Button variant=\"contained\" onClick={handleSend}>\n              Send\n            </Button>\n          </Box>\n        </>\n      )}\n    </ChatContainer>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}